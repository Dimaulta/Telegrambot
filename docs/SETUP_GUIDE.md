## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–µ—Ä–≤–∏—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞
–ê–≤—Ç–æ—Ä —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç —ç—Ç–∏ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ Macbook M1 Pro 16GB




1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Homebrew (–º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è Mac). –ï—Å–ª–∏ Homebrew —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø—Ä–æ–ø—É—Å—Ç–∏ —ç—Ç–æ—Ç —à–∞–≥:

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```




2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å FFmpeg:

```bash
brew install ffmpeg
```




3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å ngrok:

```bash
brew install ngrok
```




4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å nginx:

```bash
brew install nginx
```




5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Swift —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

```bash
swift --version
```

–ï—Å–ª–∏ –≤–∏–¥–∏—à—å –≤–µ—Ä—Å–∏—é Swift ‚Äî –≤—Å—ë –æ–∫. –ï—Å–ª–∏ Swift –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —É—Å—Ç–∞–Ω–æ–≤–∏ Xcode Command Line Tools –∫–æ–º–∞–Ω–¥–æ–π `xcode-select --install`

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ SQLite**: SQLite –≤—Å—Ç—Ä–æ–µ–Ω –≤ macOS –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç FluentSQLiteDriver (Swift –ø–∞–∫–µ—Ç), –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ `swift package resolve`




6. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞:

```bash
git clone REPO_URL
cd Telegrambot
```

–ó–∞–º–µ–Ω–∏ `REPO_URL` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π URL —Ç–≤–æ–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è. –î–∞–ª—å—à–µ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è–π –∏–∑ –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞




7. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞:

```bash
cp config/env.example config/.env
```




8. –û—Ç–∫—Ä—ã—Ç—å config/.env –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –±–æ—Ç–æ–≤:

8.1. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –≤ @BotFather –≤ Telegram:
- –û—Ç–∫—Ä—ã—Ç—å @BotFather –≤ Telegram
- –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–æ–π /newbot
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–æ—Ç–∞

8.2. –ó–∞–ø–æ–ª–Ω–∏ `config/.env` —Å–≤–æ–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –û—Ä–∏–µ–Ω—Ç–∏—Ä—É–π—Å—è –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É [`config/env.example`](../config/env.example), –Ω–∞–ø—Ä–∏–º–µ—Ä:
```env
VIDEO_BOT_TOKEN=PASTE_VIDEO_BOT_TOKEN_HERE
```
–ü–æ–ø–æ–ª–Ω—è–π –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É—è –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –∏–∑ –ø—Ä–∏–º–µ—Ä–∞

> **–í–∞–∂–Ω–æ:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø–æ–ª–Ω–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `NOWCONTROLLERBOT_BROADCAST_BOTS` ‚Äî —ç—Ç–æ —Å–ø–∏—Å–æ–∫ –±–æ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–º–∏ –±—É–¥–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å `NowControllerBot` –¥–ª—è –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏. –£–∫–∞–∂–∏ –∏–º–µ–Ω–∞ –±–æ—Ç–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä:
> ```env
> NOWCONTROLLERBOT_BROADCAST_BOTS=Roundsvideobot,nowmttbot,contentfabrikabot,gsfortextbot,Neurfotobot
> ```
> –ò–º–µ–Ω–∞ –±–æ—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ç–µ–º–∏, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–¥–µ (—Ä–µ–≥–∏—Å—Ç—Ä –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ). –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ `NowControllerBot` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç –∑–∞–ø–∏—Å–∏ –¥–ª—è –≤—Å–µ—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –±–æ—Ç–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏.

> **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–µ—Ä–≤–∏—Å–æ–≤:**
> - **ContentFabrikaBot:** –ü–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `.env`, OpenAI –∏ –≤–µ–±—Ö—É–∫–∞ —Å–º. –≤ [contentfabrikabot/docs/SETUP_CONTENTFABRIKABOT.md](../contentfabrikabot/docs/SETUP_CONTENTFABRIKABOT.md).
> - **SaluteSpeech (GSForTextBot):** –ü–æ–¥—Ä–æ–±–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è SaluteSpeech (–∫–ª—é—á–∏, —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã, —Ç–µ—Å—Ç—ã API) —Å–º. –≤ [gsfortextbot/docs/SETUP_GSFORTEXTBOT.md](../gsfortextbot/docs/SETUP_GSFORTEXTBOT.md).
> - **Neurfotobot:** –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è Neurfotobot (Replicate, Supabase, Yandex Translate, Google Vision, OpenAI) —Å –ø–æ—à–∞–≥–æ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏, —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –±–∏–ª–ª–∏–Ω–≥–∞ —Å–º. –≤ [Neurfotobot/docs/SETUP_NEURFOTOBOT.md](../Neurfotobot/docs/SETUP_NEURFOTOBOT.md).



9. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å nginx –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤:

9.1. –ù–∞–π—Ç–∏ –ø—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ nginx:

```bash
nginx -t
```

–í –≤—ã–≤–æ–¥–µ –±—É–¥–µ—Ç —É–∫–∞–∑–∞–Ω –ø—É—Ç—å –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä `/opt/homebrew/etc/nginx/nginx.conf` –∏–ª–∏ `/usr/local/etc/nginx/nginx.conf`

9.2. –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é nginx –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

```bash
open -a TextEdit /opt/homebrew/etc/nginx/nginx.conf
```

–ú–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä. –ó–∞–º–µ–Ω–∏ –ø—É—Ç—å –Ω–∞ —Ç–æ—Ç, —á—Ç–æ –ø–æ–ª—É—á–∏–ª –≤ —à–∞–≥–µ 9.1

9.3. –ù–∞–π—Ç–∏ –±–ª–æ–∫ server –≤–Ω—É—Ç—Ä–∏ –±–ª–æ–∫–∞ http –∏ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞:

```
server {
    listen 8080;
    server_name localhost;

    location /nowcontroller/webhook {
        proxy_pass http://127.0.0.1:8084/nowcontroller/webhook;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    location /nowmtt/webhook {
        proxy_pass http://127.0.0.1:8085/webhook;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

9.4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª –∏ –∑–∞–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä.

> üí° –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ä–∞–±–æ—á–µ–≥–æ `nginx.conf` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ NowControllerBot –∏ NowmttBot —Å–º. –≤ —Ñ–∞–π–ª–µ [`docs/nginx.conf.example`](./nginx.conf.example). –ï–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ—Å–Ω–æ–≤—É, –µ—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π.

9.5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é nginx:

```bash
nginx -t
```

–ï—Å–ª–∏ –≤–∏–¥–∏—à—å `syntax is ok` –∏ `test is successful`, –∑–Ω–∞—á–∏—Ç –≤—Å—ë –æ–∫


10. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ [QUICK_START.md](./QUICK_START.md) –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤.
