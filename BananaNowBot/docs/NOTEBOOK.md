# BananaNowBot — технические заметки

- **Назначение сервиса**: интерпретировать текстовые промпты пользователей Telegram и отправлять результат от Nano Banana (генерация изображений, редактирование изображений, создание коротких видео).
- **Коммуникация с Nano Banana**: предполагается REST API. Необходимо зафиксировать URL, аутентификацию и формат ответов.
- **Форматы выдачи**:
  - `image` — новая картинка.
  - `image_edit` — модифицированная исходная картинка (потребуется пересылка `file_id` в Nano Banana).
  - `video` — короткий клип.
- **Логирование**: минимум — текст запроса, выбранный режим, идентификатор пользователя, результат / код ошибки Nano Banana.
- **Хранение временных файлов**: если Nano Banana возвращает бинарные данные, продумать использование S3 или Supabase Storage.
- **Безопасность**: токен Telegram (`BANANANOWBOT_TOKEN`) и при необходимости ключ Nano Banana (`BANANANOWBOT_NANO_API_KEY`) хранить только в `config/.env`.

## Открытые вопросы
1. Какой SLA у Nano Banana и сколько времени допустимо держать соединение прежде чем отвечать пользователю?
2. Нужно ли поддерживать очередь запросов, если генерация занимает дольше 30 секунд?
3. Какие ограничения по размеру промпта и весу итоговых файлов?

Запиши ответы в этот файл, когда появятся детали, чтобы команда могла быстро погрузиться в контекст.


