# Конфигурация серверов и сервисов

В этом каталоге находятся файлы конфигурации:
- `server.json` — базовые параметры публичного сервера.
- `services.json` — список внутренних сервисов и их адресов.

## Что менять после покупки домена

1) protocol
- Если подключён валидный TLS‑сертификат — оставь `https`.
- Временно без TLS — укажи `http` (не рекомендуется для продакшена).

2) base_url
- Замени на `https://твой-домен` без указания `:443`.
- Примеры: `https://example.com`, `https://api.example.com`.

3) ip
- Можно оставить текущий IP или `0.0.0.0` — это не критично для внешнего URL.
- Главный источник правды для внешних ссылок — `base_url`.

4) port
- За балансировщиком/прокси обычно внешний порт 443. В `base_url` 443 писать не нужно.
- Внутренние сервисы продолжают слушать свои локальные порты (см. `services.json`).

## services.json
- Для каждого сервиса есть поле `url` вида `http://localhost:PORT` — это внутренняя точка.
- Поле `webhook_url` — внешний URL, куда Telegram будет слать вебхуки. Подставь домен.

## Быстрый чек‑лист
- [ ] Настроен TLS и домен
- [ ] `server.json` → `protocol=https`, `base_url=https://твой-домен`
- [ ] `services.json` → `webhook_url` указывает на `https://твой-домен/<route>`
- [ ] Прокси (nginx/caddy) пробрасывает к нужному сервису
