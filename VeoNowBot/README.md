## VeoNowBot

VeoNowBot — заготовка Telegram-бота, который будет принимать текстовое описание от пользователя и заказывать генерацию видео через внешнее API Veo 3. Структура каталога повторяет паттерны существующих Vapor-проектов в репозитории и служит точкой старта для дальнейшей разработки.

### Основные идеи

- Telegram-приложение на Vapor 4 с webhook-обработчиком.
- Выделенный сервис `VeoApiClient` для интеграции с Veo 3.
- Чёткое разделение ответственности: контроллер принимает входящие обновления Telegram, сервис формирует запросы к Veo 3, модели описывают данные.

### Структура

- `Sources/App/entrypoint.swift` — точка входа приложения.
- `Sources/App/configure.swift` — конфигурация приложения, загрузка `.env`, настройка клиента.
- `Sources/App/routes.swift` — регистрация маршрутов.
- `Sources/App/Controllers/VeoNowBotController.swift` — будущая логика обработки обновлений.
- `Sources/App/Models` — модели Telegram и Veo.
- `Sources/App/Services/VeoApiClient.swift` — заглушка клиента Veo 3.
- `docs/env.example` — список переменных окружения.

### Первоначальная настройка

1. Скопируй `docs/env.example` в `config/.env` и заполни значения токенов Telegram и Veo.
2. Добавь URL вебхука и базовые настройки в `config/services.json`, если используешь общий конфиг.
3. Зарегистрируй новый исполняемый таргет `VeoNowBot` в корневом `Package.swift`, чтобы собирать и запускать бота.

### Ключевые переменные окружения

- `VEONOWBOT_TOKEN` — токен Telegram-бота.
- `VEO3_API_KEY` — ключ доступа к Veo 3.
- `VEO3_WORKFLOW_ID` — идентификатор пайплайна/пресета для генерации видео.
- `VEO3_POLL_INTERVAL` — частота опроса статуса задачи (секунды, опционально).

### Следующие шаги

- Реализовать парсинг Telegram Update в моделях.
- Заполнить `VeoNowBotController` логикой приёма текста и постановки задачи в Veo 3.
- Дописать клиента `VeoApiClient` с методами создания, проверки и получения результата.
- Подготовить эндпоинты `/health` и `/webhook`, добавить обработку ошибок и логирование.

> Шаблон не содержит бизнес-логики и тестов — они появятся после уточнения API Veo 3 и сценариев бота.

